/* app/globals.css */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ---------------------------------- */
/* CSS Variables                      */
/* ---------------------------------- */
:root {
  --body-light: linear-gradient(to top, #fff1eb 0%, #ace0f9 100%);
  --body-dark:  linear-gradient(to top, #141517 0%, #060f1a 25%, #142743 70%, #162d56 100%);
  --bg-dark-opacity: 0; /* 0 = light, 1 = dark */

  --text-light: #212121;
  --text-dark:  #ffffff;
  --action-hover-light: rgba(0, 0, 0, 0.05);
  --action-hover-dark:  rgba(255, 255, 255, 0.06);
}

/* Respect reduced motion: no cross-fade */
@media (prefers-reduced-motion: reduce) {
  :root { --bg-dark-opacity: 1; }
}

/* ---------------------------------- */
/* Base (element-level resets/theme)  */
/* ---------------------------------- */
@layer base {
  /* App bounds */
  html, body, #root {
    width: 100dvw;
    height: 100%;
    min-height: 100dvh;
    overflow-x: hidden;
  }

  /* Light gradient on html (base layer) */
  html {
    background-image: var(--body-light);
    background-attachment: fixed;
    background-size: cover;
    background-repeat: no-repeat;
  }

  /* Body text + stacking context for overlay */
  body {
    color: var(--text-light);    
    position: relative; /* create stacking context for ::before */
  }

  /* Dark gradient overlay (cross-fades via opacity) */
  body::before {
    content: "";
    position: fixed;
    inset: 0;
    pointer-events: none;        /* don't block clicks */
    background-image: var(--body-dark);
    background-attachment: fixed;
    background-size: cover;
    background-repeat: no-repeat;
    opacity: var(--bg-dark-opacity);     /* animated variable */
    transition: opacity 300ms ease-in-out;
    will-change: opacity;
    z-index: -1; /* between html background and page content */
  }

  /* Toggle variables/colors when .dark is set on html or body */
  html.dark body,
  body.dark {
    color: var(--text-dark);
    --bg-dark-opacity: 1;
  }

  /* Global, subtle theme-aware transitions for common properties */
  * {
    transition-property: color, background-color, border-color, fill, stroke;
    transition-duration: 150ms;
    transition-timing-function: linear;
  }
}

/* ---------------------------------- */
/* Components (composed classes)      */
/* ---------------------------------- */
@layer components {
  .icon-button {
    @apply p-3 rounded-xl text-gray-600 transition-colors duration-150;
  }
  .icon-button:hover {
    @apply bg-[--action-hover-light];
  }

  /* Dark overrides */
  .dark .icon-button { @apply text-gray-200; }
  .dark .icon-button:hover { @apply bg-[--action-hover-dark]; }
}

/* ---------------------------------- */
/* Utilities (small, reusable helpers)*/
/* ---------------------------------- */
@layer utilities {
  /* Hide scrollbars but keep scroll */
  .no-scrollbar::-webkit-scrollbar { display: none; }
  .no-scrollbar {
    -ms-overflow-style: none; /* IE/Edge */
    scrollbar-width: none;    /* Firefox */
  }

  .sr-only {
    position: absolute;
    left: -10000px;
    width: 1px;
    height: 1px;
    overflow: hidden;
  }

  /* Font helpers from next/font variables */
  .font-spectral { font-family: var(--font-spectral), serif; }
  .font-arabic   { font-family: var(--font-arabic), system-ui, sans-serif; }
}
